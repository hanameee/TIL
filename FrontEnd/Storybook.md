# Storybook

## Storybookì˜ í•„ìš”ì„±

ê°œë°œì€ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì§„í–‰í•˜ì§€ë§Œ, ì‹¤ì œ ê°œë°œ í™˜ê²½ì€ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë§Œë“¤ì–´ì ¸ìˆë‹¤. ë”°ë¼ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë²„íŠ¼ í•˜ë‚˜ë¥¼ ë§Œë“¤ë ¤ê³  í•˜ë©´ ìˆ˜ ë§ì€ ë²„íŠ¼ì˜ ìƒíƒœë¥¼ ì˜ì¡´ì„±ê³¼ í™˜ê²½ë³€ìˆ˜ê°€ ê±¸ë ¤ìˆëŠ” í˜ì´ì§€ì—ì„œ ì¼ì¼íˆ ë³€ê²½í•´ê°€ë©° í…ŒìŠ¤íŠ¸ í•´ì•¼ í•œë‹¤.

ì´ëŸ¬í•œ ë°©ì‹ì€ ë¶ˆí¸í•  ë¿ë§Œ ì•„ë‹ˆë¼, ì˜¨ì „íˆ UIì— ì§‘ì¤‘í•˜ê¸° í˜ë“¤ì–´ì§€ê³  ì»´í¬ë„ŒíŠ¸ì˜ ì˜ì¡´ì„±ì„ ì‰½ì‚¬ë¦¬ íŒŒì•…í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤. ì´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì¬ì‚¬ìš©ì„±ì„ ê°ì†Œì‹œí‚¨ë‹¤.

## Storybook ì´ë€

> Storybook is a user interface development environment and playground for UI components.

### playground for UI components

Storybookì€ ìœ„ì™€ ê°™ì€ ë¬¸ì œë“¤ì„ í•´ê²°í•´ì¤„ ìˆ˜ ìˆëŠ”, í”„ë¡œì íŠ¸ë¡œë¶€í„° **ê³ ë¦½ëœ í™˜ê²½**ì—ì„œ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íˆ´ì´ë‹¤. ì´ë ‡ê²Œ ë…ë¦½ëœ ê³µê°„ì—ì„œ ê°œë°œí•¨ìœ¼ë¡œì¨ í”„ë¡œì íŠ¸ê°€ ê°€ì§€ëŠ” ì˜ì¡´ì„±ì— êµ¬ì• ë°›ì§€ ì•Šê³  ìˆœìˆ˜íˆ **UIì— ì§‘ì¤‘í•´ ê°œë°œ**í•  ìˆ˜ ìˆë‹¤.

Storybookì„ í™œìš©í•˜ë©´ ë”ìš± ìœ ì—°í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ê°œë°œì„ í•  ìˆ˜ ìˆë‹¤.

### design system

Storybookì€ ê·¸ ìì²´ë¡œ ë¬¸ì„œí™”ëœ ë””ìì¸ ì‹œìŠ¤í…œìœ¼ë¡œì„œì˜ ì—­í• ë„ ìˆ˜í–‰í•œë‹¤. Storybook ìì²´ê°€ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ usecaseë¥¼ ë‚˜ì—´í•´ ë†“ì€ ì±…ìê°€ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

Storybookì€ ì„œë²„ ì—†ì´ ì •ì  ì—ì…‹ë§Œìœ¼ë¡œ êµ¬ë™ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, ê°„ë‹¨í•˜ê²Œ ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤. ì´ë ‡ê²Œ ë°°í¬ë¥¼ í•œë‹¤ë©´ ì¸í„°ë™í‹°ë¸Œí•œ ë¬¸ì„œë¡œì¨ ë””ìì´ë„ˆ/ê¸°íšìì™€ í˜‘ì—…í•˜ëŠ” ë„êµ¬ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## Storybook ì‚¬ìš©í•˜ê¸°

### stories

Storybookì€ storiesì˜ ëª¨ìŒì´ë‹¤. í•˜ë‚˜ì˜ stories íŒŒì¼ì€ ì—¬ëŸ¬ê°œì˜ storyë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. í•˜ë‚˜ì˜ storyëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë Œë”ë§ë˜ëŠ” í•˜ë‚˜ì˜ ê²½ìš°ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ì¦‰, storyëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì‹œê°ì  ìƒíƒœ í•˜ë‚˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

ì•„ë˜ í•˜ë‚˜ì˜ stories íŒŒì¼ì€ 2ê°œì˜ story (text, emoji)ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

```jsx
import React from 'react';
import { action } from '@storybook/addon-actions';
import Button from './Button';

export default {
  component: Button,
  title: 'Button',
};

export const text = () => <Button onClick={action('clicked')}>Hello Button</Button>;

export const emoji = () => (
  <Button onClick={action('clicked')}>
    <span role="img" aria-label="so cool">
      ğŸ˜€ ğŸ˜ ğŸ‘ ğŸ’¯
    </span>
  </Button>
);

```

`default export` : ì»´í¬ë„ŒíŠ¸ì˜ stories ê·¸ë£¹ ì „ì²´ì— ì ìš©ë˜ëŠ” metadataë¥¼ ì •ì˜í•œë‹¤.

`named export` : í•˜ë‚˜í•˜ë‚˜ê°€ ì»´í¬ë„ŒíŠ¸ì˜ storyë¥¼ ì •ì˜í•œë‹¤.

ìœ„ ë°©ì‹ì€ Storybookì— ë¹„êµì  ìµœê·¼ ë„ì…ëœ [Component Story Format (CSF)](https://storybook.js.org/docs/formats/component-story-format/) ì„ ë”°ë¥¸ ê²ƒì´ë‹¤. ê¸°ì¡´ì˜ ë§ì€ ë ˆí¼ëŸ°ìŠ¤ë“¤ì—ì„œ ë³¼ ìˆ˜ ìˆì—ˆë˜ ì „í†µì ì¸ ë°©ì‹ìœ¼ë¡œëŠ” [storiesOf API](https://storybook.js.org/docs/formats/storiesof-api/)ê°€ ìˆê³  (í˜„ì¬ rnì€ storiesOf APIë§Œ ì§€ì›), ë§ˆí¬ë‹¤ìš´ê³¼ JSX storiesë¥¼ í•©ì¹œ ì‹¤í—˜ì ì¸ ë°©ì‹ì¸ [MDX syntax](https://storybook.js.org/docs/formats/mdx-syntax/)ë„ ìˆë‹¤.

### stories ë¡œë”©í•˜ê¸°

Storybookì€ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ ë‚´ë¶€ì ìœ¼ë¡œ Webpackì˜ [require.context](https://webpack.js.org/guides/dependency-management/#requirecontext)ë¥¼ ì‚¬ìš©í•œë‹¤.

storiesë“¤ì€ `.storybook/main.js` íŒŒì¼ ë˜ëŠ” `.storybook/preview.js` íŒŒì¼ì—ì„œ ë¡œë“œëœë‹¤. ì •ê·œí‘œí˜„ì‹ì„ í†µí•´ stories íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

> .storybook/main.js

```jsx
module.exports = {
  stories: ['../src/**/*.stories.(js|mdx|tsx)'],

```

### decorators

ë°ì½”ë ˆì´í„°ë¥¼ í†µí•´ storyë¥¼ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¡œ wrap í•  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ëŠ” global, component level, individual story level ëª¨ë‘ ì ìš©ë  ìˆ˜ ìˆë‹¤.

[Global decorator]

> .storybook/preview.js

```jsx
import React from 'react';
import { addDecorator } from '@storybook/react';

addDecorator(storyFn => <div style={{ textAlign: 'center' }}>{storyFn()}</div>);

```

ìœ„ì²˜ëŸ¼ decoratorì„ í†µí•´ ëª¨ë“  storyë¥¼ textAlign:center ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

[Component/local decorator]

```jsx
import React from 'react';
import MyComponent from './MyComponent';

export default {
  title: 'MyComponent',
  // ì´ íŒŒì¼ ë‚´ì˜ ëª¨ë“  storyë¥¼ ë…¸ë€ìƒ‰ í”„ë ˆì„ìœ¼ë¡œ ê°ì‹¼ë‹¤
  decorators: [storyFn => <div style={{ backgroundColor: 'yellow' }}>{storyFn()}</div>],
};

export const normal = () => <MyComponent />;
// í•˜ë‚˜ì˜ storyë¥¼ ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ë¡œ ê°ì‹¼ë‹¤
export const special = () => <MyComponent text="The Boss" />;
special.story = {
  decorators: [storyFn => <div style={{ border: '5px solid red' }}>{storyFn()}</div>],
};

```

ì´ì²˜ëŸ¼ ë°ì½”ë ˆì´í„°ë¥¼ í†µí•´ storyë¥¼ formatting í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì£¼ë¡œ decoratorì€ storyê°€ í•„ìš”í•œ contextë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. contextë¡œ themeì´ ì „ë‹¬ë˜ì–´ì•¼ í•˜ëŠ” theming ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ëª¨ë“  storyì— themeì„ ì¬ì •ì˜í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°ì½”ë ˆì´í„°ë¥¼ í•œë²ˆë§Œ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

### parameters

ë°ì½”ë ˆì´í„°ê°€ ê³µí†µì ìœ¼ë¡œ ì ìš©ë  ì»´í¬ë„ŒíŠ¸ë¥¼ ë„˜ê²¼ë‹¤ë©´, íŒŒë¼ë¯¸í„°ë¡œ storyë“¤ì—ê²Œ ê³µí†µì ìœ¼ë¡œ ì „ë‹¬ë  metadataë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ global, component level, individual story level ëª¨ë‘ ì ìš©ë  ìˆ˜ ìˆë‹¤.

[Global parameter]

> .storybook/preview.js

```jsx
import { load, addParameters } from '@storybook/react';
import defaultNotes from './instructions.md';

addParameters({ notes: defaultNotes });

```

[Component/local decorator]

```jsx
import React from 'react';
import MyComponent from './MyComponent';
import componentNotes from './notes.md';
import specialNotes from './special.md';

export default {
  title: 'MyComponent',
  parameters: { notes: componentNotes },
};

export const small = () => <MyComponent text="small" />;
export const medium = () => <MyComponent text="medium" />;
export const special = () => <MyComponent text="The Boss" />;
// ì´ë ‡ê²Œ ê°œë³„ storyì— overrideí•´ì„œ ì ìš©í•  ìˆ˜ë„ ìˆë‹¤
special.story = {
  parameters: { notes: specialNotes },
};

```

### story hierarchy

`/` êµ¬ë¶„ìë¥¼ í†µí•´ storiesë¥¼ ì¤‘ì²© êµ¬ì¡°ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

```jsx
// Button.stories.js
import React from 'react';
import Button from './Button';

export default {
  title: 'Design System/Atoms/Button',
};
export const normal = () => <Button onClick={action('clicked')}>Hello Button</Button>;

```

```jsx
// Checkbox.stories.js
import React from 'react';
import Checkbox from './Checkbox';

export default {
  title: 'Design System/Atoms/Checkbox',
};
export const empty = () => <Checkbox label="empty" />;
export const checked = () => <Checkbox label="checked" checked />;

```

ìœ„ì™€ ê°™ì´ defaultì˜ title ì†ì„±ì— ê²½ë¡œë¥¼ ì‘ì„±í•˜ë©´, Design Systemì´ë¼ëŠ” heading í•˜ìœ„ì—, Atoms ê·¸ë£¹ í•˜ìœ„ì—, Buttonsì™€ Checkboxë¼ëŠ” 2ê°œì˜ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ê°€ ì¡´ì¬í•˜ê²Œ ëœë‹¤.

## References

[https://Storybook.js.org/docs/basics/writing-stories/](https://storybook.js.org/docs/basics/writing-stories/)

[ë¦¬ì•¡íŠ¸ ìŠ¤í† ë¦¬ë¶(React Storybook)ì„ í†µí•œ ì»´í¬ë„ŒíŠ¸ ê°œë°œê³¼ í™œìš© ë°©ë²• - 1](https://www.vobour.com/%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B6%81-react-Storybook-%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B0%9C%EB%B0%9C%EA%B3%BC-%ED%99%9C)

[Storybook ì…ë¬¸ ê°€ì´ë“œ](https://hyunseob.github.io/2018/01/08/Storybook-beginners-guide/)